Running Start

> hdx-adapter@1.1.0 start /opt/hdx-index-adapter
> NODE_PATH=app/src node $NODE_DEBUG_OPTION app/index.js

{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Initializing cron","time":"2018-12-18T20:43:50.292Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Loading routes...","time":"2018-12-18T20:43:50.317Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Loading route /opt/hdx-index-adapter/app/src/routes/api/v1/hdx.router.js, in path /api/v1","time":"2018-12-18T20:43:50.318Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Loaded routes correctly!","time":"2018-12-18T20:43:50.364Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Server started in  3012","time":"2018-12-18T20:43:50.368Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Initializing register microservice","time":"2018-12-18T20:43:50.370Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Checking mode","time":"2018-12-18T20:43:50.370Z","v":0}
  <-- GET /info
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Entering with path /info","time":"2018-12-18T20:43:50.633Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Obtaining info to register microservice","time":"2018-12-18T20:43:50.634Z","v":0}
  --> GET /info 200 10ms 1.62kb
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Register microservice complete succesfully!","time":"2018-12-18T20:43:50.748Z","v":0}
  <-- GET /info
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Entering with path /info","time":"2018-12-18T20:43:52.183Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Obtaining info to register microservice","time":"2018-12-18T20:43:52.183Z","v":0}
  --> GET /info 200 1ms 1.62kb
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Running cron update","time":"2018-12-18T20:46:00.023Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Obtaining datasets","time":"2018-12-18T20:46:00.023Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:46:00.023Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:46:05.129Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:46:07.420Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":40,"msg":"dataset does not exist in csv format","time":"2018-12-18T20:48:12.273Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":40,"msg":"Dataset Global Food Prices Database (WFP) with id dbc55140-3ead-4c0e-bb7b-6d43358d9cfa exists, but data is corrupted...Deleting and re-adding","time":"2018-12-18T20:48:12.282Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:12.282Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Adding dataset Global Food Prices Database (WFP)","time":"2018-12-18T20:48:26.430Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:26.430Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"new dataset","time":"2018-12-18T20:48:26.533Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"data":{"id":"ae7f1372-f843-4625-a04d-ca9bdecef2c7","type":"dataset","attributes":{"name":"Global Food Prices Database (WFP)","slug":"Global-Food-Prices-Database-WFP_2","type":null,"dataPath":null,"attributesPath":null,"connectorType":"document","provider":"csv","userId":"microservice","connectorUrl":"https://docs.google.com/spreadsheets/d/1HxOT3bSOVGFcQmLA-3wroVlouS1Vy-1lajgnMrR1muA/gviz/tq?tqx=out:csv&sheet=Sheet1","tableName":null,"status":"pending","published":false,"sandbox":false,"overwrite":false,"verified":false,"blockchain":{},"subscribable":{},"env":"production","geoInfo":false,"protected":false,"legend":{"date":[],"region":[],"country":[],"nested":[]},"clonedHost":{},"errorMessage":null,"taskId":null,"createdAt":"2018-12-18T20:48:26.480Z","updatedAt":"2018-12-18T20:48:26.480Z"}},"msg":"","time":"2018-12-18T20:48:26.533Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:26.534Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:26.564Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:30.568Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:30.595Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:34.600Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:34.628Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:38.632Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:38.684Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:42.688Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:42.712Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:46.715Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:46.745Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:50.750Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:50.773Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:54.774Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:48:54.801Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:58.805Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":20,"msg":"dataset saved - updating vocab/tags","time":"2018-12-18T20:48:58.835Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:48:58.835Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-7546486845-2m7pr","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:49:00.092Z","v":0}
