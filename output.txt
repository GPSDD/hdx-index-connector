Running Start

> doc-writer@1.0.0 start /opt/doc-executor
> NODE_PATH=app/src node app/index.js

{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Initializing doc-executor","time":"2018-12-31T21:46:12.134Z","src":{"file":"/opt/doc-executor/app/src/app.js","line":3},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Connecting to queue DOC-STATUS","time":"2018-12-31T21:46:12.212Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":13,"func":"StatusQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Connecting to queue DOC-DATA","time":"2018-12-31T21:46:12.643Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":17,"func":"DataQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Connecting to queue DOC-EXECUTOR-TASKS","time":"2018-12-31T21:46:12.867Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":20,"func":"ExecutorQueueService"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Connected","time":"2018-12-31T21:46:12.931Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":20,"func":"DataQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Connected","time":"2018-12-31T21:46:12.931Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":16,"func":"StatusQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":" [*] Waiting for messages in DOC-EXECUTOR-TASKS","time":"2018-12-31T21:46:12.932Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":40,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Connected","time":"2018-12-31T21:46:12.933Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":23,"func":"ExecutorQueueService.init.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Message received {\"id\":\"58ea274e-5e31-4f15-aff9-a43974fb0f61\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"486e62e4-14a9-4539-a948-f0b8f3a57c2b\",\"datasetId\":\"13bb64ef-a3ef-451a-94e4-2a21987095bd\",\"fileUrl\":\"http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=2007&endPeriod=2017&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-12-31T22:42:16.953Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"message content { id: '58ea274e-5e31-4f15-aff9-a43974fb0f61',\n  type: 'EXECUTION_CREATE',\n  taskId: '486e62e4-14a9-4539-a948-f0b8f3a57c2b',\n  datasetId: '13bb64ef-a3ef-451a-94e4-2a21987095bd',\n  fileUrl: 'http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=2007&endPeriod=2017&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-12-31T22:42:16.954Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Create task","time":"2018-12-31T22:42:16.954Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index","time":"2018-12-31T22:42:16.954Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index index_13bb64efa3ef451a94e42a21987095bd_1546296136954 and type type in elastic","time":"2018-12-31T22:42:16.955Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending index created message of taskId 486e62e4-14a9-4539-a948-f0b8f3a57c2b and index index_13bb64efa3ef451a94e42a21987095bd_1546296136954","time":"2018-12-31T22:42:23.004Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '870ee332-2d9c-4c59-8512-5891bf2687f6',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: '486e62e4-14a9-4539-a948-f0b8f3a57c2b',\n  index: 'index_13bb64efa3ef451a94e42a21987095bd_1546296136954' }","time":"2018-12-31T22:42:25.008Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting importing service","time":"2018-12-31T22:42:25.011Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting read file","time":"2018-12-31T22:42:25.011Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":52,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=2007&endPeriod=2017&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c","time":"2018-12-31T22:42:25.012Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-12-31T22:42:25.012Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":30,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Checking if the url http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=2007&endPeriod=2017&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c exists","time":"2018-12-31T22:42:25.012Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloading....","time":"2018-12-31T22:42:25.013Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":71,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Temporal path /tmp/eTWwIGibZQzpYJGYBjmOSHerh899nPfq.csv . Downloading","time":"2018-12-31T22:42:25.013Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":73,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending request","time":"2018-12-31T22:42:25.013Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"File size: 377.2 KiB","time":"2018-12-31T22:42:26.776Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-12-31T22:42:26.777Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":75,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"[ 'CR:Completion rate',\n  'GLPIA:Adjusted location parity index',\n  'L3:Upper secondary education',\n  '_T:Total',\n  '_T:Total',\n  '_T:Total',\n  'GLAST:Last grade',\n  'INST_T:All institutions',\n  '_Z:Not applicable',\n  '_T:Total',\n  'Q3:Middle',\n  '_Z:Not applicable',\n  '_T:Total',\n  '_T:Total',\n  '_T:Total',\n  '_Z:Not applicable',\n  '_Z:Not applicable',\n  '_Z:Not applicable',\n  'YE:Yemen',\n  'CR:GLPIA:L3:_T:_T:_T:GLAST:INST_T:_Z:_T:Q3:_Z:_T:_T:_T:_Z:_Z:_Z:YE',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '0.97756',\n  '',\n  '',\n  '',\n  '' ]","time":"2018-12-31T22:42:26.806Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":90,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting process file","time":"2018-12-31T22:42:26.904Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Removing file /tmp/eTWwIGibZQzpYJGYBjmOSHerh899nPfq.csv","time":"2018-12-31T22:42:27.084Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":67,"func":"csv.fromPath.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Body data: 1660","time":"2018-12-31T22:42:27.084Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Finishing reading file","time":"2018-12-31T22:42:27.085Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":75,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending data message (1660)","time":"2018-12-31T22:42:27.089Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":57,"func":"sendDataMessage"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message","time":"2018-12-31T22:42:29.091Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":39,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read data of taskId 486e62e4-14a9-4539-a948-f0b8f3a57c2b","time":"2018-12-31T22:42:29.108Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":72,"func":"sendReadData"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ReadDataMessage {\n  id: 'cd28b898-3bf6-4e09-a84d-c2b72fb113c2',\n  type: 'STATUS_READ_DATA',\n  taskId: '486e62e4-14a9-4539-a948-f0b8f3a57c2b' }","time":"2018-12-31T22:42:31.109Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Pack saved successfully, num: 1","time":"2018-12-31T22:42:31.110Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":81,"func":"dataQueueService.sendDataMessage.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending read file message","time":"2018-12-31T22:42:31.110Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":74,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read File of taskId 486e62e4-14a9-4539-a948-f0b8f3a57c2b","time":"2018-12-31T22:42:31.111Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":79,"func":"sendReadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ReadFileMessage {\n  id: '750d34e7-39fa-4078-9bc3-c5965d16d202',\n  type: 'STATUS_READ_FILE',\n  taskId: '486e62e4-14a9-4539-a948-f0b8f3a57c2b' }","time":"2018-12-31T22:42:33.113Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-12-31T22:42:33.114Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Message received {\"id\":\"ff8aae43-3d1c-44b7-bb99-1d72887f7a7f\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"f283227e-ef0d-4e36-aff0-7442d46f39f8\",\"datasetId\":\"97619f4a-8f1b-4278-a92b-19909b853101\",\"fileUrl\":\"http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=1992&endPeriod=2006&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-12-31T22:42:33.115Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"message content { id: 'ff8aae43-3d1c-44b7-bb99-1d72887f7a7f',\n  type: 'EXECUTION_CREATE',\n  taskId: 'f283227e-ef0d-4e36-aff0-7442d46f39f8',\n  datasetId: '97619f4a-8f1b-4278-a92b-19909b853101',\n  fileUrl: 'http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=1992&endPeriod=2006&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-12-31T22:42:33.116Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Create task","time":"2018-12-31T22:42:33.116Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index","time":"2018-12-31T22:42:33.116Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index index_97619f4a8f1b4278a92b19909b853101_1546296153116 and type type in elastic","time":"2018-12-31T22:42:33.116Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending index created message of taskId f283227e-ef0d-4e36-aff0-7442d46f39f8 and index index_97619f4a8f1b4278a92b19909b853101_1546296153116","time":"2018-12-31T22:42:39.004Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: 'b93a7e9e-91c3-4fd8-9a05-a9506a30f6e8',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: 'f283227e-ef0d-4e36-aff0-7442d46f39f8',\n  index: 'index_97619f4a8f1b4278a92b19909b853101_1546296153116' }","time":"2018-12-31T22:42:41.006Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting importing service","time":"2018-12-31T22:42:41.007Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting read file","time":"2018-12-31T22:42:41.007Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":52,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=1992&endPeriod=2006&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c","time":"2018-12-31T22:42:41.008Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-12-31T22:42:41.008Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":30,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Checking if the url http://api.uis.unesco.org/sdmx/data/UNESCO,SDG4/..................YE.?format=csv&startPeriod=1992&endPeriod=2006&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c exists","time":"2018-12-31T22:42:41.008Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloading....","time":"2018-12-31T22:42:41.008Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":71,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Temporal path /tmp/1D26uSrKjup7qBiVGlXjUX6fLRPxNG4T.csv . Downloading","time":"2018-12-31T22:42:41.008Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":73,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending request","time":"2018-12-31T22:42:41.008Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"File size: 356.8 KiB","time":"2018-12-31T22:42:41.870Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-12-31T22:42:41.871Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":75,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"[ 'CR:Completion rate',\n  'GLPIA:Adjusted location parity index',\n  'L3:Upper secondary education',\n  '_T:Total',\n  '_T:Total',\n  '_T:Total',\n  'GLAST:Last grade',\n  'INST_T:All institutions',\n  '_Z:Not applicable',\n  '_T:Total',\n  'Q3:Middle',\n  '_Z:Not applicable',\n  '_T:Total',\n  '_T:Total',\n  '_T:Total',\n  '_Z:Not applicable',\n  '_Z:Not applicable',\n  '_Z:Not applicable',\n  'YE:Yemen',\n  'CR:GLPIA:L3:_T:_T:_T:GLAST:INST_T:_Z:_T:Q3:_Z:_T:_T:_T:_Z:_Z:_Z:YE',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '1.35001' ]","time":"2018-12-31T22:42:41.893Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":90,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting process file","time":"2018-12-31T22:42:41.965Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Removing file /tmp/1D26uSrKjup7qBiVGlXjUX6fLRPxNG4T.csv","time":"2018-12-31T22:42:42.124Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":67,"func":"csv.fromPath.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Body data: 1562","time":"2018-12-31T22:42:42.125Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Finishing reading file","time":"2018-12-31T22:42:42.125Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":75,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending data message (1562)","time":"2018-12-31T22:42:42.130Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":57,"func":"sendDataMessage"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message","time":"2018-12-31T22:42:44.131Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":39,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read data of taskId f283227e-ef0d-4e36-aff0-7442d46f39f8","time":"2018-12-31T22:42:44.145Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":72,"func":"sendReadData"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ReadDataMessage {\n  id: '4be1e962-c139-46d3-8536-b4a2b6295dc8',\n  type: 'STATUS_READ_DATA',\n  taskId: 'f283227e-ef0d-4e36-aff0-7442d46f39f8' }","time":"2018-12-31T22:42:46.148Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Pack saved successfully, num: 1","time":"2018-12-31T22:42:46.149Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":81,"func":"dataQueueService.sendDataMessage.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending read file message","time":"2018-12-31T22:42:46.149Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":74,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read File of taskId f283227e-ef0d-4e36-aff0-7442d46f39f8","time":"2018-12-31T22:42:46.149Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":79,"func":"sendReadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ReadFileMessage {\n  id: '04a9bf1c-84a6-4773-979b-5d76b8fd27a8',\n  type: 'STATUS_READ_FILE',\n  taskId: 'f283227e-ef0d-4e36-aff0-7442d46f39f8' }","time":"2018-12-31T22:42:48.152Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-12-31T22:42:48.153Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Message received {\"id\":\"4968d1a0-a2ba-4ebe-aff9-c1697fad0ede\",\"type\":\"EXECUTION_CONFIRM_IMPORT\",\"taskId\":\"486e62e4-14a9-4539-a948-f0b8f3a57c2b\",\"index\":\"index_13bb64efa3ef451a94e42a21987095bd_1546296136954\"}","time":"2018-12-31T22:42:48.154Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"message content { id: '4968d1a0-a2ba-4ebe-aff9-c1697fad0ede',\n  type: 'EXECUTION_CONFIRM_IMPORT',\n  taskId: '486e62e4-14a9-4539-a948-f0b8f3a57c2b',\n  index: 'index_13bb64efa3ef451a94e42a21987095bd_1546296136954' }","time":"2018-12-31T22:42:48.155Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Confirming index index_13bb64efa3ef451a94e42a21987095bd_1546296136954","time":"2018-12-31T22:42:48.155Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":169,"func":"confirmImport"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read File of taskId 486e62e4-14a9-4539-a948-f0b8f3a57c2b","time":"2018-12-31T22:42:49.297Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":86,"func":"sendImportConfirmed"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ImportConfirmedMessage {\n  id: 'eed8c0db-b436-4144-81c0-806b730d461a',\n  type: 'STATUS_IMPORT_CONFIRMED',\n  taskId: '486e62e4-14a9-4539-a948-f0b8f3a57c2b',\n  lastCheckedDate: 2018-12-31T22:42:49.297Z }","time":"2018-12-31T22:42:51.299Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-12-31T22:42:51.300Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Message received {\"id\":\"97fde3bc-9da8-422b-ad4a-df3ecc2f4bfb\",\"type\":\"EXECUTION_CONFIRM_IMPORT\",\"taskId\":\"f283227e-ef0d-4e36-aff0-7442d46f39f8\",\"index\":\"index_97619f4a8f1b4278a92b19909b853101_1546296153116\"}","time":"2018-12-31T22:42:51.305Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"message content { id: '97fde3bc-9da8-422b-ad4a-df3ecc2f4bfb',\n  type: 'EXECUTION_CONFIRM_IMPORT',\n  taskId: 'f283227e-ef0d-4e36-aff0-7442d46f39f8',\n  index: 'index_97619f4a8f1b4278a92b19909b853101_1546296153116' }","time":"2018-12-31T22:42:51.305Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Confirming index index_97619f4a8f1b4278a92b19909b853101_1546296153116","time":"2018-12-31T22:42:51.305Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":169,"func":"confirmImport"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read File of taskId f283227e-ef0d-4e36-aff0-7442d46f39f8","time":"2018-12-31T22:42:53.824Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":86,"func":"sendImportConfirmed"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ImportConfirmedMessage {\n  id: '7d05a4c8-62b9-4c6d-8fc7-38ef4798598b',\n  type: 'STATUS_IMPORT_CONFIRMED',\n  taskId: 'f283227e-ef0d-4e36-aff0-7442d46f39f8',\n  lastCheckedDate: 2018-12-31T22:42:53.824Z }","time":"2018-12-31T22:42:55.827Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-12-31T22:42:55.828Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Message received {\"id\":\"7f9fa76a-7252-4bc8-91ff-e901b222aa14\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"6f414956-09bc-470d-8a1f-9f544788d80d\",\"datasetId\":\"91bcbc5e-42a2-4358-a659-fcfefcb48913\",\"fileUrl\":\"http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2018&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-12-31T22:42:57.293Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"message content { id: '7f9fa76a-7252-4bc8-91ff-e901b222aa14',\n  type: 'EXECUTION_CREATE',\n  taskId: '6f414956-09bc-470d-8a1f-9f544788d80d',\n  datasetId: '91bcbc5e-42a2-4358-a659-fcfefcb48913',\n  fileUrl: 'http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2018&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-12-31T22:42:57.293Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Create task","time":"2018-12-31T22:42:57.293Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index","time":"2018-12-31T22:42:57.293Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index index_91bcbc5e42a24358a659fcfefcb48913_1546296177293 and type type in elastic","time":"2018-12-31T22:42:57.293Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending index created message of taskId 6f414956-09bc-470d-8a1f-9f544788d80d and index index_91bcbc5e42a24358a659fcfefcb48913_1546296177293","time":"2018-12-31T22:43:04.045Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '86e036c3-120b-4bb1-b89c-78c14050a676',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: '6f414956-09bc-470d-8a1f-9f544788d80d',\n  index: 'index_91bcbc5e42a24358a659fcfefcb48913_1546296177293' }","time":"2018-12-31T22:43:06.046Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting importing service","time":"2018-12-31T22:43:06.047Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting read file","time":"2018-12-31T22:43:06.047Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":52,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2018&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c","time":"2018-12-31T22:43:06.047Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-12-31T22:43:06.047Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":30,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Checking if the url http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2018&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c exists","time":"2018-12-31T22:43:06.048Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloading....","time":"2018-12-31T22:43:06.048Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":71,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Temporal path /tmp/5zjCuxJasM8jsSOq5P5YJnxn7SGypPLR.csv . Downloading","time":"2018-12-31T22:43:06.048Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":73,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending request","time":"2018-12-31T22:43:06.048Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"File size: 482.9 KiB","time":"2018-12-31T22:43:07.403Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":35,"func":"download.then.data"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloaded file!!!","time":"2018-12-31T22:43:07.403Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":75,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"[ 'TRTEACH:Trained teachers',\n  'PER:Number of persons',\n  'L02:Pre-primary education',\n  '_T:Total',\n  'M:Male',\n  '_T:Total',\n  '_T:Total',\n  'INST_T:All institutions',\n  '_T:Total',\n  '_Z:Not applicable',\n  '_T:Total',\n  '_T:Total',\n  '_T:Total',\n  '_T:Total',\n  '_Z:Not applicable',\n  '_Z:Not applicable',\n  '_T:Total',\n  '_T:Total',\n  'W00:All countries',\n  'W00:All countries',\n  '_Z:Not applicable',\n  'YE:Yemen',\n  'TRTEACH:PER:L02:_T:M:_T:_T:INST_T:_T:_Z:_T:_T:_T:_T:_Z:_Z:_T:_T:W00:W00:_Z:YE',\n  '',\n  '',\n  'NaN',\n  '',\n  '' ]","time":"2018-12-31T22:43:07.419Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":90,"func":"readStream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting process file","time":"2018-12-31T22:43:07.505Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":62,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Removing file /tmp/5zjCuxJasM8jsSOq5P5YJnxn7SGypPLR.csv","time":"2018-12-31T22:43:07.690Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":67,"func":"csv.fromPath.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Body data: 1950","time":"2018-12-31T22:43:07.690Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":69,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Finishing reading file","time":"2018-12-31T22:43:07.690Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":75,"func":"stream.on"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending data message (1950)","time":"2018-12-31T22:43:07.696Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":57,"func":"sendDataMessage"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message","time":"2018-12-31T22:43:09.699Z","src":{"file":"/opt/doc-executor/app/src/services/data-queue.service.js","line":39,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read data of taskId 6f414956-09bc-470d-8a1f-9f544788d80d","time":"2018-12-31T22:43:09.715Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":72,"func":"sendReadData"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ReadDataMessage {\n  id: 'f73ede68-84ea-42b5-a33f-945188c72567',\n  type: 'STATUS_READ_DATA',\n  taskId: '6f414956-09bc-470d-8a1f-9f544788d80d' }","time":"2018-12-31T22:43:11.717Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Pack saved successfully, num: 1","time":"2018-12-31T22:43:11.718Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":81,"func":"dataQueueService.sendDataMessage.then"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending read file message","time":"2018-12-31T22:43:11.718Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":74,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending Read File of taskId 6f414956-09bc-470d-8a1f-9f544788d80d","time":"2018-12-31T22:43:11.718Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":79,"func":"sendReadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message ReadFileMessage {\n  id: '88d1529d-87c0-4a20-a695-8869b64edc13',\n  type: 'STATUS_READ_FILE',\n  taskId: '6f414956-09bc-470d-8a1f-9f544788d80d' }","time":"2018-12-31T22:43:13.719Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Message processed successfully","time":"2018-12-31T22:43:13.720Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":71,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Message received {\"id\":\"d6f66dae-a1e4-43cb-8a5f-1e7626474e22\",\"type\":\"EXECUTION_CREATE\",\"taskId\":\"6656c9ac-ca36-423e-8176-1704227dcf82\",\"datasetId\":\"da7d510c-e037-4c22-9565-43966bae67d4\",\"fileUrl\":\"http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2013&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c\",\"provider\":\"csv\",\"legend\":{\"nested\":[],\"country\":[],\"region\":[],\"date\":[]},\"verified\":false,\"dataPath\":null}","time":"2018-12-31T22:43:13.721Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":66,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"message content { id: 'd6f66dae-a1e4-43cb-8a5f-1e7626474e22',\n  type: 'EXECUTION_CREATE',\n  taskId: '6656c9ac-ca36-423e-8176-1704227dcf82',\n  datasetId: 'da7d510c-e037-4c22-9565-43966bae67d4',\n  fileUrl: 'http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2013&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c',\n  provider: 'csv',\n  legend: { nested: [], country: [], region: [], date: [] },\n  verified: false,\n  dataPath: null }","time":"2018-12-31T22:43:13.721Z","src":{"file":"/opt/doc-executor/app/src/services/executor-queue.service.js","line":68,"func":"consume"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Create task","time":"2018-12-31T22:43:13.721Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":60,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index","time":"2018-12-31T22:43:13.721Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":61,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Creating index index_da7d510ce0374c22956543966bae67d4_1546296193721 and type type in elastic","time":"2018-12-31T22:43:13.721Z","src":{"file":"/opt/doc-executor/app/src/services/elastic.service.js","line":54,"func":"createIndex"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending index created message of taskId 6656c9ac-ca36-423e-8176-1704227dcf82 and index index_da7d510ce0374c22956543966bae67d4_1546296193721","time":"2018-12-31T22:43:19.624Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":56,"func":"sendIndexCreated"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Sending message IndexCreatedMessage {\n  id: '61ae8ddc-04d9-447e-9927-09445a70b8aa',\n  type: 'STATUS_INDEX_CREATED',\n  taskId: '6656c9ac-ca36-423e-8176-1704227dcf82',\n  index: 'index_da7d510ce0374c22956543966bae67d4_1546296193721' }","time":"2018-12-31T22:43:21.626Z","src":{"file":"/opt/doc-executor/app/src/services/status-queue.service.js","line":37,"func":"setInterval"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting importing service","time":"2018-12-31T22:43:21.627Z","src":{"file":"/opt/doc-executor/app/src/services/executor.service.js","line":69,"func":"create"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Starting read file","time":"2018-12-31T22:43:21.627Z","src":{"file":"/opt/doc-executor/app/src/services/importer.service.js","line":52,"func":"Promise"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Getting converter of type csv and dataPath null and url http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2013&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c","time":"2018-12-31T22:43:21.627Z","src":{"file":"/opt/doc-executor/app/src/services/converters/converterFactory.js","line":10,"func":"getInstance"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Is a url. Downloading file","time":"2018-12-31T22:43:21.627Z","src":{"file":"/opt/doc-executor/app/src/services/converters/csvConverter.js","line":30,"func":"init"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":30,"msg":"Checking if the url http://api.uis.unesco.org/sdmx/data/UNESCO,EDU_NON_FINANCE/.....................YE.?format=csv&startPeriod=2014&endPeriod=2013&locale=en&subscription-key=2fb1b17ba77841feb8c2aaab0d8a8d1c exists","time":"2018-12-31T22:43:21.627Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":53,"func":"checkIfExists"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Downloading....","time":"2018-12-31T22:43:21.628Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":71,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Temporal path /tmp/P03oRhZg00gs6CxFgTU0pMmlWMjdwIg4.csv . Downloading","time":"2018-12-31T22:43:21.628Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":73,"func":"downloadFile"},"v":0}
{"name":"doc-executor","hostname":"doc-executor-sdgs-76bff9d448-s7vc9","pid":17,"level":20,"msg":"Sending request","time":"2018-12-31T22:43:21.628Z","src":{"file":"/opt/doc-executor/app/src/services/downloadService.js","line":31},"v":0}
(node:17) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): ReferenceError: e is not defined
(node:17) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
