Running Start

> hdx-adapter@1.1.0 start /opt/hdx-index-adapter
> NODE_PATH=app/src node $NODE_DEBUG_OPTION app/index.js

{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Initializing cron","time":"2018-12-10T22:05:56.479Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":20,"msg":"Loading routes...","time":"2018-12-10T22:05:56.500Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":20,"msg":"Loading route /opt/hdx-index-adapter/app/src/routes/api/v1/hdx.router.js, in path /api/v1","time":"2018-12-10T22:05:56.501Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":20,"msg":"Loaded routes correctly!","time":"2018-12-10T22:05:56.522Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Server started in  3012","time":"2018-12-10T22:05:56.526Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Initializing register microservice","time":"2018-12-10T22:05:56.528Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":20,"msg":"Checking mode","time":"2018-12-10T22:05:56.528Z","v":0}
  <-- GET /info
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Entering with path /info","time":"2018-12-10T22:05:56.833Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Obtaining info to register microservice","time":"2018-12-10T22:05:56.833Z","v":0}
  --> GET /info 200 12ms 1.62kb
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":20,"msg":"Register microservice complete succesfully!","time":"2018-12-10T22:05:56.947Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Running cron update","time":"2018-12-10T22:07:00.570Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":20,"msg":"Obtaining datasets","time":"2018-12-10T22:07:00.570Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T22:07:02.029Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T22:07:10.779Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T22:07:11.100Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-76fdff4dbb-8h6r7","pid":17,"level":50,"msg":"Error in cron update TypeError: logger.log is not a function\n    at Function.checkCSVData (/opt/hdx-index-adapter/app/src/services/check-csv-data.js:31:12)","time":"2018-12-10T22:07:12.567Z","v":0}
(node:17) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: logger.log is not a function
(node:17) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
