Running Start

> hdx-adapter@1.1.0 start /opt/hdx-index-adapter
> NODE_PATH=app/src node $NODE_DEBUG_OPTION app/index.js

{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Initializing cron","time":"2018-12-18T20:34:31.684Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Loading routes...","time":"2018-12-18T20:34:31.707Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Loading route /opt/hdx-index-adapter/app/src/routes/api/v1/hdx.router.js, in path /api/v1","time":"2018-12-18T20:34:31.708Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Loaded routes correctly!","time":"2018-12-18T20:34:31.730Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Server started in  3012","time":"2018-12-18T20:34:31.734Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Initializing register microservice","time":"2018-12-18T20:34:31.736Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Checking mode","time":"2018-12-18T20:34:31.736Z","v":0}
  <-- GET /info
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Entering with path /info","time":"2018-12-18T20:34:32.019Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Obtaining info to register microservice","time":"2018-12-18T20:34:32.019Z","v":0}
  --> GET /info 200 9ms 1.62kb
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Register microservice complete succesfully!","time":"2018-12-18T20:34:32.129Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Running cron update","time":"2018-12-18T20:35:00.024Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Obtaining datasets","time":"2018-12-18T20:35:00.024Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:35:00.024Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:35:09.469Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:35:12.296Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":40,"msg":"dataset does not exist in csv format","time":"2018-12-18T20:36:13.770Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":40,"msg":"Dataset Global Food Prices Database (WFP) with id 40484548-10c2-4c5e-95df-adbe8f5d119d exists, but data is corrupted...Deleting and re-adding","time":"2018-12-18T20:36:13.770Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:13.771Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Adding dataset Global Food Prices Database (WFP)","time":"2018-12-18T20:36:14.619Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:14.620Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"new dataset","time":"2018-12-18T20:36:14.772Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"data":{"id":"6c34e38e-f9ce-4c6e-8d8b-8dd1d4378c42","type":"dataset","attributes":{"name":"Global Food Prices Database (WFP)","slug":"Global-Food-Prices-Database-WFP_6","type":null,"dataPath":null,"attributesPath":null,"connectorType":"document","provider":"csv","userId":"microservice","connectorUrl":"https://docs.google.com/spreadsheets/d/1HxOT3bSOVGFcQmLA-3wroVlouS1Vy-1lajgnMrR1muA/gviz/tq?tqx=out:csv&sheet=Sheet1","tableName":null,"status":"pending","published":false,"sandbox":false,"overwrite":false,"verified":false,"blockchain":{},"subscribable":{},"env":"production","geoInfo":false,"protected":false,"legend":{"date":[],"region":[],"country":[],"nested":[]},"clonedHost":{},"errorMessage":null,"taskId":null,"createdAt":"2018-12-18T20:36:14.661Z","updatedAt":"2018-12-18T20:36:14.661Z"}},"msg":"","time":"2018-12-18T20:36:14.772Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:14.773Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:14.799Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:18.804Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:18.830Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:22.830Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:22.855Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:26.859Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:26.886Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:30.888Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:30.918Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:34.921Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:34.960Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:38.964Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:38.995Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:43.000Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:43.025Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:47.027Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"Sleeping...","time":"2018-12-18T20:36:47.051Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:51.056Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":20,"msg":"dataset saved - updating vocab/tags","time":"2018-12-18T20:36:51.084Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:51.084Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-989f65ffd-74n67","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-18T20:36:52.413Z","v":0}
