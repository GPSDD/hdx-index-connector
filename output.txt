Running Start

> hdx-adapter@1.1.0 start /opt/hdx-index-adapter
> NODE_PATH=app/src node $NODE_DEBUG_OPTION app/index.js

{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Initializing cron","time":"2018-12-10T20:44:00.948Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Loading routes...","time":"2018-12-10T20:44:00.971Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Loading route /opt/hdx-index-adapter/app/src/routes/api/v1/hdx.router.js, in path /api/v1","time":"2018-12-10T20:44:00.972Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Loaded routes correctly!","time":"2018-12-10T20:44:00.996Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Server started in  3012","time":"2018-12-10T20:44:01.000Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Initializing register microservice","time":"2018-12-10T20:44:01.002Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Checking mode","time":"2018-12-10T20:44:01.003Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Register microservice complete succesfully!","time":"2018-12-10T20:44:01.043Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Running cron update","time":"2018-12-10T20:45:01.036Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Obtaining datasets","time":"2018-12-10T20:45:01.036Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T20:45:02.353Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T20:45:11.543Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T20:45:11.785Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":40,"msg":"Dataset fts_requirements_funding_cluster_yem.csv with id 13002e31-3d7d-4d04-a81e-188e58e200ec exists, but data is corrupted...Deleting and re-adding","time":"2018-12-10T20:45:13.175Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T20:45:13.175Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":20,"msg":"Adding dataset fts_requirements_funding_cluster_yem.csv","time":"2018-12-10T20:45:16.906Z","v":0}
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":30,"msg":"Adding authentication header ","time":"2018-12-10T20:45:16.907Z","v":0}
(node:17) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): ReferenceError: result is not defined
(node:17) DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
{"name":"hdx-index-adapter","hostname":"hdx-adapter-bbbb9b464-xfbsv","pid":17,"level":50,"msg":"Error in cron update ReferenceError: result is not defined\n    at Function.addDataset (/opt/hdx-index-adapter/app/src/services/hdx-full.service.js:159:13)","time":"2018-12-10T20:45:16.982Z","v":0}
